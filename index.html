<!DOCTYPE html>
<html>
<head>
  <title>Student Attendance</title>
</head>
<body>
  <h1>Mark Attendance</h1>
  <table border="1" id="attendanceTable">
    <tr>
      <th>Reg No</th>
      <th>Name</th>
      <th>Status</th>
    </tr>
  </table>
  <button onclick="submitAttendance()">Submit</button>

  <script>
    const API_URL = "PASTE_YOUR_WEB_APP_URL_HERE";

    fetch(API_URL)
      .then(res => res.json())
      .then(students => {
        let table = document.getElementById("attendanceTable");
        students.forEach(s => {
          let row = table.insertRow();
          row.insertCell(0).innerText = s.regNo;
          row.insertCell(1).innerText = s.name;
          let select = document.createElement("select");
          ["Present", "Absent"].forEach(optText => {
            let opt = document.createElement("option");
            opt.value = optText;
            opt.text = optText;
            select.appendChild(opt);
          });
          row.insertCell(2).appendChild(select);
        });
      });

    function submitAttendance() {
      let rows = document.getElementById("attendanceTable").rows;
      let data = [];
      for (let i = 1; i < rows.length; i++) {
        let regNo = rows[i].cells[0].innerText;
        let status = rows[i].cells[2].children[0].value;
        data.push({ regNo, status });
      }
      fetch(API_URL, {
        method: "POST",
        body: JSON.stringify(data)
      })
      .then(res => res.json())
      .then(res => {
        alert("Attendance Saved Successfully!");
      });
    }
  </script>
</body>
</html>
